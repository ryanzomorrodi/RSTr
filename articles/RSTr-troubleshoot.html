<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Appendix B: Troubleshooting • RSTr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Appendix B: Troubleshooting">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">RSTr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/RSTr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/RSTr-event.html">01: Understanding and Preparing Your Event Data</a></li>
    <li><a class="dropdown-item" href="../articles/RSTr-adjacency.html">02: Understanding and Preparing Your Adjacency Structure</a></li>
    <li><a class="dropdown-item" href="../articles/RSTr-car.html">03: The CAR Models</a></li>
    <li><a class="dropdown-item" href="../articles/RSTr-agestandardize.html">04: Generating Estimates: Age-standardization</a></li>
    <li><a class="dropdown-item" href="../articles/RSTr-reliability.html">05: Generating Estimates: Reliability and Suppression</a></li>
    <li><a class="dropdown-item" href="../articles/RSTr-informativeness.html">06: Model Informativeness</a></li>
    <li><a class="dropdown-item" href="../articles/RSTr-samples.html">07: Sample Processing</a></li>
    <li><a class="dropdown-item" href="../articles/RSTr-initialvalues.html">08: Initial Values</a></li>
    <li><a class="dropdown-item" href="../articles/RSTr-priors.html">09: Priors</a></li>
    <li><a class="dropdown-item" href="../articles/RSTr-models.html">Appendix A: The CAR Hierarchical Models</a></li>
    <li><a class="dropdown-item" href="../articles/RSTr-troubleshoot.html">Appendix B: Troubleshooting</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Appendix B: Troubleshooting</h1>
            
      

      <div class="d-none name"><code>RSTr-troubleshoot.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The <code>*car()</code> functions include checks to ensure that all
data is set up in a way that the model can use. If the checks notice
something incompatible with the model, an error will be displayed in the
console. Here, we list each possible error for the MSTCAR model,
including its reasoning and ways to check and fix your inputs.</p>
</div>
<div class="section level2">
<h2 id="generic-errors-and-warnings">Generic errors and warnings<a class="anchor" aria-label="anchor" href="#generic-errors-and-warnings"></a>
</h2>
<p>All checks that are run on the data check for general information,
such as extraneous list objects which cannot be used by the model. In
these cases, <code>RSTr</code> will not use these parts of the dataset.
It is recommended to remove these datasets from the model to prevent
unnecessary clutter.</p>
</div>
<div class="section level2">
<h2 id="errors-and-warnings-with-list-data">Errors and warnings with list <code>data</code><a class="anchor" aria-label="anchor" href="#errors-and-warnings-with-list-data"></a>
</h2>
<ul>
<li><p><code>One or more objects missing from list 'data'</code>: The
<code>data</code> object requires a list with two objects: an array
<code>Y</code> for mortality counts and an array <code>n</code> for
population counts. These are needed to perform parameter updates inside
of the MSTCAR model. Check <code>names(data)</code> to see a vector of
names that exists inside of your array and fix names
accordingly.</p></li>
<li><p><code>Data not same dimensions. Ensure dim(Y) == dim(n)</code>:
This error occurs when the arrays fed into the <code>data</code> list
are not of the same size. Use the <code><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim()</a></code> function to check
that the dimensions of your two arrays do line up. You can use the
<code><a href="https://rdrr.io/r/base/aperm.html" class="external-link">aperm()</a></code> function to rearrange arrays if they have the same
set of dimensions on different margins.</p></li>
<li><p><code>Invalid Y/n values. Check that all Y's/n's are at least 0 and finite</code>:
While <code>NA</code> and <code>NULL</code> are accepted values in
<code>Y</code>, both <code>Y</code> and <code>n</code> must be comprised
of positive finite values. Check your data with <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code>
for a quick look at your minimum values.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="errors-and-warnings-with-list-spatial_data">Errors and warnings with list <code>spatial_data</code><a class="anchor" aria-label="anchor" href="#errors-and-warnings-with-list-spatial_data"></a>
</h2>
<ul>
<li><p><code>Adjacency different length than data. Ensure length(adjacency) == dim(Y)[1]</code>:
Adjacency information must be present for all regions. Look at the
length of your adjacency information: it should line up with the number
of rows in your <code>Y</code> and <code>n</code> arrays.</p></li>
<li><p><code>Some regions have no neighbors. Ensure all regions have at least one neighbor</code>:
If a region does not have a neighbor, the model will not run. If working
with <code>list</code> adjacency information, you can first check which
regions have no neighbors by running
<code>which(lapply(adjacency, \(x) all(x == 0)))</code> and then fixing
the regions accordingly. For assistance with fixing the adjacency
information, read <code><a href="../articles/RSTr-adjacency.html">vignette("RSTr-adjacency")</a></code>.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="initial_values-and-priors">
<code>initial_values</code> and <code>priors</code><a class="anchor" aria-label="anchor" href="#initial_values-and-priors"></a>
</h2>
<p>For troubleshooting inputs with <code>initial_values</code> and
<code>priors</code>, reference
<code><a href="../articles/RSTr-initialvalues.html">vignette("RSTr-initialvalues")</a></code> and
<code><a href="../articles/RSTr-priors.html">vignette("RSTr-priors")</a></code>, respectively.</p>
</div>
<div class="section level2">
<h2 id="ignore_checks">
<code>ignore_checks</code><a class="anchor" aria-label="anchor" href="#ignore_checks"></a>
</h2>
<p>If you have input data that you are certain is correct, yet are
receiving error messages anyway, set the <code>ignore_checks</code>
argument to <code>TRUE</code> when setting up your model to skip data
checks. This is <em>not</em> recommended as it is easy to break
<code>RSTr</code> when data isn’t properly checked, and should only be
used as a last resort when using <code>RSTr</code>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by David DeLara, Centers for Disease Control and Prevention.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
